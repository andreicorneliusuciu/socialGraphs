{"batchcomplete":"","query":{"normalized":[{"from":"IBM_3270#Telnet_3270","to":"IBM 3270"}],"pages":{"15154":{"pageid":15154,"ns":0,"title":"IBM 3270","revisions":[{"contentformat":"text/x-wiki","contentmodel":"wikitext","*":"{{more footnotes|date=July 2011}}\nThe '''IBM 3270''' is a class of [[Block-oriented terminal|block oriented]] [[computer terminal]] (sometimes called ''display devices'') introduced by [[IBM]] in 1971<ref>{{cite web | publisher = IBM | title = DPD Chronology 1971 | url= http://www-03.ibm.com/ibm/history/exhibits/dpd50/dpd50_chronology4.html | work= Archives | accessdate =11 February 2013}}</ref> normally used to communicate with [[IBM mainframe]]s. The 3270 was the successor to the [[IBM 2260]] display terminal.  Due to the text colour on the original models, these terminals are informally known as ''[[Monochrome monitor|green screen]]'' terminals. Unlike a [[character-oriented terminal]], the 3270 minimizes the number of [[input/output|I/O]] [[interrupt]]s required by transferring large blocks of data known as [[data stream]]s, and uses a high speed proprietary communications interface, using [[coaxial cable]].\n\nAlthough IBM no longer manufactures 3270 terminals, the IBM 3270 protocol is still commonly used via [[terminal emulator|terminal emulation]] to access mainframe-based applications. Accordingly, such applications are sometimes referred to as ''green screen applications''. The use of 3270 is slowly diminishing as more and more mainframe applications acquire [[World Wide Web|Web]] interfaces, although some Web applications merely use the technique of \"[[screen scraping]]\" to capture old screens and transfer the data to modern front-ends.\n\n[[File:IBM 3277 Display.jpg|thumb|right|IBM 3277 Display Terminal model 2, the original 3270 (1972)]]\n[[File:IBM-3279.jpg|thumb|IBM 3279 Colour Display Terminal (1979)]]\n<!--  Commented out: [[File:3270ScreenShot.jpg|thumb|[[Clemson University]]'s library catalogue displayed in a 3270 emulation program running on [[Mac OS X]].]] -->\n\n== Principles ==\nThe 3270 series was designed to connect with mainframe computers, often at a remote location, using the technology then available in the early 1970s.  Two of the major design goals of 3270s are minimizing the amount of data transmitted, and minimizing the frequency of interrupts to the mainframe.\n\n[[File:IBM 3270 cluster diagram.jpg|thumb|left|Sample IBM 3270 cluster with one control unit connected to a printer and two displays]] \n3270 devices are ''clustered'', with one or more displays or printers connected to a ''control unit'' (the 3275 and 3276 included an integrated control unit).  Originally devices were connected to the control unit over coaxial cable; later [[token ring]], [[twisted pair]], or [[Ethernet]] connections were available.  A ''local'' control unit attaches directly to the [[Channel I/O|channel]] of a nearby mainframe.  A ''remote'' control unit is connected to a communications line by a [[modem]].  Remote 3270 controllers are frequently ''[[Telecommunications link#Multipoint|multi-dropped]]'', with multiple control units on a line.\n\nIn a data stream, both text and control (or formatting functions) are interspersed allowing an entire screen to be \"painted\" as a single output operation. The concept of formatting in these devices allows the screen to be divided into fields (clusters of contiguous character cells) for which numerous field attributes (colour, highlighting, character set, protection from modification) can be set. A field attribute occupies a physical location on the screen that also determines the beginning and end of a field.\n\nUsing a technique known as \"read modified\", a single transmission back to the mainframe can contain the changes from any number of formatted fields that have been modified, but without sending any unmodified fields or static data.  This technique enhances the terminal throughput of the [[Central processing unit|CPU]], and minimizes the data transmitted. Some users familiar with character interrupt-driven terminal interfaces find this technique unusual. There is also a \"read buffer\" capability that transfers the entire content of the 3270-[[screen buffer]] including field attributes. This is mainly used for debugging purposes to preserve the application program screen contents while replacing it, temporarily, with debugging information.\n\nEarly 3270s offered three types of keyboards.  The ''typewriter keyboard'' came in both a 66 key version, with no [[function key|programmed function (PF) keys]], and a 78 key version with twelve.  Both versions had two ''program attention'' (PA) keys.  The ''data entry keyboard'' had five PF keys and two PA keys. The ''operator console keyboard'' had twelve PF keys and two PA keys.<ref name=CompDesc />{{rp|p.19}}  Later 3270s had twenty-four PF keys and three PA keys. When one of these keys is pressed, it will cause its control unit to generate an I/O [[interrupt]] to the host computer and present a special code identifying which key was pressed. Application program functions such as termination, page-up, page-down, or help can be invoked by a single key press, thereby reducing the load on very busy processors.\n\nIn this way, the CPU is not interrupted at every keystroke, a scheme that allowed an early 3033 mainframe with only 16&nbsp;MB to support up to 17,500 3270 terminals under [[CICS]]. On the other hand, [[vi]]-like behaviour was not possible. (But end-user responsiveness was arguably more predictable with 3270, something users appreciated.)  For the same reason, a porting of [[Lotus 1-2-3]] to mainframes with 3279 screens did not meet with success because its programmers were not able to properly adapt the spreadsheet's user interface to a \"screen at a time\" rather than \"character at a time\" device.\n\n==Applications==\nFollowing its introduction the 3270 and compatibles were by far the most commonly used terminals on [[IBM System/370]] and successor systems.<ref name=HOB>{{cite web|last1=Brandstaetter|first1=Klaus|title=3270 -Brief History|url=http://www.hob-techtalk.com/2008/09/12/3270-a-brief-history|website=HOB Techtalk|accessdate=19 August 2015}}</ref>  IBM and third-party software that included an interactive component took for granted the presence of 3270 terminals and provided a set of [[ISPF]] [[Panel (computer software)|panels]] and supporting programs.\n\nThe [[ISPF#ISPF Editor|''Program Development Facility'' (PDF)]] and [[XEDIT]] [[Text editor|editors]] for [[MVS]] and [[VM (operating system)|VM/SP]] (ISPF/PDF was available for VM, but little used) respectively make extensive use of 3270 features. \n \nThe modified data tag is well suited to converting formatted, structured punched card input onto the 3270 display device. With the appropriate programming, any batch program that uses formatted, structured card input can be layered onto a 3270 terminal.\n\nIBM's [[OfficeVision]] office productivity software enjoyed great success with 3270 interaction because of its design understanding. And for many years the [[PROFS]] calendar was the most commonly displayed screen on office terminals around the world.\n\nA version of the [[WordPerfect]] [[word processor]] ported to [[IBM System/370|System/370]] was designed for the 3270 architecture.\n\n3270 and The Web (and [[HyperText Transfer Protocol|HTTP]]) are similar in that both follow a [[thin client]] [[client-server]] architecture whereby they, the clients, are given primary responsibility for managing presentation and user input. This minimizes host interactions while still facilitating server-based information retrieval and processing.\n\nWith the arrival of the web, application development has in many ways returned to the 3270 approach. In the 3270 era, all application functionality was provided centrally. With the advent of the [[personal computer|PC]], the idea was to invoke central systems only when absolutely unavoidable, and to do all application processing with local software on the personal computer. Now in the web era (and with wikis in particular), the application again is strongly centrally controlled, with only technical functionality distributed to the PC.\n\nIn the early 1990s a popular solution to link PCs with the mainframes was the [[Irma board]], an [[expansion card]] that plugged into a PC and connected to the controller through a coaxial cable.  IRMA also allows file transfers between the PC and the mainframe.\n\n== Third parties ==\n\nOne of the first groups to write and provide an operating system for the 3270 and its early predecessors was the University of Michigan who created the [[Michigan Terminal System]] in order for the hardware to be useful outside of the manufacturer.  MTS was the default OS at Michigan for many years, and was still used at Michigan well into the 1990s.\nMany manufacturers, such as [[GTE]], [[Hewlett Packard]], [[Honeywell]]/Incoterm Div, [[Memorex]], [[ITT Corporation|ITT Courier]] and [[Teletype Corporation|Teletype]]/[[AT&T]] created 3270 compatible<ref>Some, such as the GTE IS/7800, were not fully compatible.</ref> terminals, or adapted ASCII terminals such as the [[HP 2640]] series to have a similar block-mode capability that would transmit a screen at a time, with some form validation capability. Modern applications are sometimes built upon legacy 3270 applications, using software utilities to capture (screen scraping) screens and transfer the data to web pages or GUI interfaces.\n\n== Models ==\n\nThe IBM 3270 display terminal subsystem consisted of displays, printers and controllers.\nOptional features for the 3275 and 3277 were the ''selector-pen'' or [[light pen]], ASCII rather than [[EBCDIC]] character set, an audible alarm, and a keylock for the keyboard.  A ''keyboard numeric lock'' was available and would lock the keyboard if the operator attempted to enter non-numeric data into a field defined as numeric.<ref name=CompDesc>{{cite book|last=IBM Corporation|title=IBM 3270 Information Display System Component Description|year=1972|url=http://www.bitsavers.org/pdf/ibm/3270/GA27-2749-1_IBM_3270_Information_Display_System_Component_Description_Jun72.pdf}}</ref> Later an ''Operator Identification Card Reader'' was added which could read information encoded on a [[magnetic stripe card]].\n\n===Displays===\n*3277 model 1: 40\u00d712 terminal\n*3277 model 2: 80\u00d724 terminal, the biggest success of all\n*3277 GA: a 3277 with an RS232C I/O, often used to drive a [[Tektronix]] 4013 or 4015 graphic screen (monochrome)\n*3278 models 1\u20135: next-generation, with accented characters and dead keys in countries that needed them\n** model 1: 80x12\n** model 2: 80\u00d724\n** model 3: 80\u00d732 or 80x24 (switchable)\n** model 4: 80\u00d743 or 80x24 (switchable)\n** model 5: 132\u00d727 or 80\u00d724 (switchable)\n*3278 PS: programmable characters; able to display monochrome graphics\n*[[IBM 3279|3279]]: colour terminal, 4-colour (text) or 7-colour (graphics) version\n*3290: a large, amber monochrome [[plasma display]] unit, capable of displaying in various modes, including four independent 3278 model 2 terminals, or a single 160\u00d762 terminal; it also supported partitioning.<ref>{{cite web | url = http://publib.boulder.ibm.com/infocenter/cicsts/v3r1/index.jsp?topic=/com.ibm.cics.ts31.doc/dfhp3/dfhp32r.htm | title =BMS Partition Support | publisher =IBM | accessdate = 21 May 2009}}</ref>\n*3178: lower cost terminal (1983)\n*3179: low cost colour terminal (1984)\n*3104: low-cost R-loop connected terminal for the [[IBM 8100]] system\n*3472 Infowindow\n\n(Generally, 3277 models allowed only upper-case input, except for the mixed EBCDIC/APL or ''text'' keyboards, which had lower case. Lower-case capability and possibility of [[dead key]]s, at first a simple [[RPQ]] (''Request Price Quotation'', tailored on request at extra cost) was only added in 3278 & 3279 models.)\n\nA version of the [[IBM PC]] called the [[IBM 3270 PC|3270 PC]], released in October 1983, included 3270 [[terminal emulator|terminal emulation]]. Later, the 3270 PC/G (graphics) and 3270 PC/GX (extended graphics) followed.\n\n===Display-Controller===\n* 3275 remote display with controller function (no additional displays up to one printer)\n* 3276 remote display with controller function (up to a limited number of displays or printers)\n\n===Printers===\n* 3284 matrix printer\n* 3286 matrix printer\n* 3287 printer, including a colour model\n* 3288 line printer\n* 3268-1 : R-loop connected stand-alone printer for the [[IBM 8100]] system\n\n===Controllers===\n* 3271 remote controller\n* 3272 local controller\n* 3274 cluster controller (different models could be channel-attached or remote via [[Binary Synchronous Communications|BSC]]  or [[Synchronous Data Link Control|SDLC]] communication lines, and had between eight and 32 co-ax ports)\n* 3174 cluster controller\n\nBy 1994 the \"3174 Establishment Controller\" supported features such as attachment to multiple hosts via [[token ring]], [[Ethernet]], or [[X.25]] in addition to the standard channel attach or SDLC, and terminal attachment via [[twisted pair]], token ring or Ethernet in addition to co-ax.  They also supported attachment of asynchronous ASCII terminals, printers, and plotters alongside 3270 devices.<ref>{{cite book|last=IBM Corporation|title=3174 Establishment Controller/Networking Server Installation Guide|year=1994|url=http://www.redbooks.ibm.com/redbooks/pdfs/gg243061.pdf}}</ref>\n\n== Manufacture ==\n\nThe IBM 3270 display terminal subsystem was designed and developed by IBM's [[Kingston, New York|Kingston]], NY, laboratory (which later closed during [[History of IBM#1990.E2.80.932002: IBM.27s near disaster and rebirth|IBM's difficult time]] in the mid-1990s). The printers were developed by the [[Endicott, NY|Endicott]], NY, laboratory.  As the subsystem expanded, the 3276 display-controller was developed by the [[Fujisawa, Kanagawa|Fujisawa]], Japan, laboratory, and later the [[IBM Yamato Facility|Yamato laboratory]]; and the 3279 colour display and 3287 colour printer by the [[Hursley]], UK, laboratory.  The subsystem products were manufactured in Kingston (displays and controllers), Endicott (printers), and [[Greenock]], Scotland, UK, (most products) and shipped to users in U.S. and worldwide. 3278 terminals continued to be manufactured in [[Hortolandia]], near [[Campinas]], Brazil as far as late 1980s, having its internals redesigned by a local engineering team using modern CMOS technology, while retaining its external look and feel.{{Citation needed|date=May 2009}}\n\n== Telnet 3270 ==\n\nTelnet 3270, or '''tn3270''' describes both the process of sending and receiving 3270 data streams using the [[Telnet]] protocol and the software that emulates a 3270 class terminal that communicates using that process.  tn3270 allows a 3270 [[terminal emulator]] to communicate over a [[Internet protocol suite|TCP/IP]] network instead of an [[System network architecture|SNA]] network. Telnet 3270 can be used for either terminal or print connections.  Standard [[telnet]] clients cannot be used as a substitute for tn3270 clients, as they use fundamentally different techniques for exchanging data.\n\n== Technical Information ==\n\n===3270 character set===\nThe following table shows the 3275/3277/3284/3286 character set for US English EBCDIC.  Lower case characters display or print as uppercase.  NL, EM, DUP, and FM control characters display and print as 5, 9, *, and ; characters, respectively, except by the printer when WCC or CCC bits 2 and 3 = '00'b, in which case NL and EM serve their control function and do not print.<ref name=CompDesc />{{rp|p.15}}  Optional characters were available for US ASCII, and UK, French, German, and Italian EBCDIC. \n \n{| {{chset-tableformat}}\n{{chset-table-header|3270 Character Set (US EBCDIC)}}\n|-\n!{{chset-left|0}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0000|[[Null character|NUL]]|0}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0001|[[Start of heading|SOH]]|1}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0002|[[Start of text|STX]]|2}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0003|[[End of text|ETX]]|3}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |4}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0009|[[Program Tab|PT]]|5}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |6}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |7}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |8}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |9}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |10}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |11}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |12}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |13}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |14}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |15}}\n|-\n!{{chset-left|1}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0010|[[Data Link Escape|DLE]]|16}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0011|[[Set Buffer Address|SBA]]|17}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0012|[[Erase Unprotected to Address|EUA]]|18}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0013|[[Insert Cursor|IC]]|19}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |20}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0085|[[Newline|NL]]|21}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |22}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |23}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |24}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0019|[[End of medium|EM]]|25}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |26}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |27}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|001C|[[Dup Key|DUP]]|28}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|001D|[[Start Field|SF]]|29}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|001E|[[Field Mark|FM]]|30}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|001F|[[End of Intermediate Transmission Block|ITB]] |31}}\n|-\n!{{chset-left|2}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |32}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |33}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |34}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |35}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |36}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |37}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0017|[[End transmission block|ETB]]|38}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|001B|[[Escape character|ESC]]|39}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |40}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |41}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |42}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |43}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |44}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0005|[[Enquire character|ENQ]]|45}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |46}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |47}}\n|-\n!{{chset-left|3}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |48}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |49}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0016|[[Synchronous idle|SYN]]|50}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |51}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |52}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |53}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |54}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0004|[[End-of-transmission character|EOT]]|55}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |56}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |57}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |58}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |59}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0014|[[Repeat to Address|RA]]|60}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|0015|[[Negative-acknowledge character|NAK]]|61}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |62}}\n|{{chset-color-ctrl}}|{{chset-ctrl3|001A|[[Substitute character|SUB]]|63}}\n|-\n!{{chset-left|4}}\n|{{chset-color-punct}}|{{chset-ctrl3|0020|[[Space character|SP]]|64}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |65}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |66}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |67}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |68}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |69}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |70}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |71}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |72}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |73}}\n|{{chset-color-punct}}|{{chset-cell3|002E|[[cent sign|&cent;]]|74}}\n|{{chset-color-punct}}|{{chset-cell3|002E|[[full stop|.]]|75}}\n|{{chset-color-punct}}|{{chset-cell3|003C|[[less-than sign|&lt;]]|76}}\n|{{chset-color-punct}}|{{chset-cell3|0028|[[(]]|77}}\n|{{chset-color-punct}}|{{chset-cell3|002B|[[+]]|78}}\n|{{chset-color-punct}}|{{chset-cell3|007C|[[vertical bar|&#x7C;]]|79}}\n|-\n!{{chset-left|5}}\n|{{chset-color-punct}}|{{chset-cell3|0026|[[ampersand|&]]|80}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |81}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |82}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |83}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |84}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |85}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |86}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |87}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |88}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |89}}\n|{{chset-color-punct}}|{{chset-cell3|0021|[[!]]|90}}\n|{{chset-color-punct}}|{{chset-cell3|0024|[[$]]|91}}\n|{{chset-color-punct}}|{{chset-cell3|002A|[[Asterisk|*]]|92}}\n|{{chset-color-punct}}|{{chset-cell3|0029|[[)]]|93}}\n|{{chset-color-punct}}|{{chset-cell3|003B|[[;]]|94}}\n|{{chset-color-punct}}|{{chset-cell3|00AC|[[\u00ac]]|95}}\n|-\n!{{chset-left|6}}\n|{{chset-color-punct}}|{{chset-cell3|002D|[[Hyphen-minus|-]]|96}}\n|{{chset-color-punct}}|{{chset-cell3|002F|[[/]]|97}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |98}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |99}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |100}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |101}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |102}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |103}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |104}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |105}}\n|{{chset-color-punct}}|{{chset-cell3|00A6|[[\u00a6]]|106}}\n|{{chset-color-punct}}|{{chset-cell3|002C|[[,]]|107}}\n|{{chset-color-punct}}|{{chset-cell3|0025|[[%]]|108}}\n|{{chset-color-punct}}|{{chset-cell3|005F|[[underscore|_]]|109}}\n|{{chset-color-punct}}|{{chset-cell3|003E|[[greater-than sign|&gt;]]|110}}\n|{{chset-color-punct}}|{{chset-cell3|003F|[[?]]|111}}\n|-\n!{{chset-left|7}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |112}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |113}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |114}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |115}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |116}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |117}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |118}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |119}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |120}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |121}}\n|{{chset-color-punct}}|{{chset-cell3|003A|[[colon (punctuation)|&#x3A;]]|122}}\n|{{chset-color-punct}}|{{chset-cell3|0023|[[number sign|&#x23;]]|123}}\n|{{chset-color-punct}}|{{chset-cell3|0040|[[@]]|124}}\n|{{chset-color-punct}}|{{chset-cell3|0027|[[apostrophe|&#x27;]]|125}}\n|{{chset-color-punct}}|{{chset-cell3|003D|[[equals sign|&#x3D;]]|126}}\n|{{chset-color-punct}}|{{chset-cell3|0022|[[&quot;]]|127}}\n|-\n!{{chset-left|8}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |128}}\n|{{chset-color-alpha}}|{{chset-cell3|0061|'''[[a]]'''|129}}\n|{{chset-color-alpha}}|{{chset-cell3|0062|'''[[b]]'''|130}}\n|{{chset-color-alpha}}|{{chset-cell3|0063|'''[[c]]'''|131}}\n|{{chset-color-alpha}}|{{chset-cell3|0064|'''[[d]]'''|132}}\n|{{chset-color-alpha}}|{{chset-cell3|0065|'''[[e]]'''|133}}\n|{{chset-color-alpha}}|{{chset-cell3|0066|'''[[f]]'''|134}}\n|{{chset-color-alpha}}|{{chset-cell3|0067|'''[[g]]'''|135}}\n|{{chset-color-alpha}}|{{chset-cell3|0068|'''[[h]]'''|136}}\n|{{chset-color-alpha}}|{{chset-cell3|0069|'''[[i]]'''|137}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |138}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |139}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |140}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |141}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |142}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |143}}\n|-\n!{{chset-left|9}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |144}}\n|{{chset-color-alpha}}|{{chset-cell3|006A|'''[[j]]'''|145}}\n|{{chset-color-alpha}}|{{chset-cell3|006B|'''[[k]]'''|146}}\n|{{chset-color-alpha}}|{{chset-cell3|006C|'''[[l]]'''|147}}\n|{{chset-color-alpha}}|{{chset-cell3|006D|'''[[m]]'''|148}}\n|{{chset-color-alpha}}|{{chset-cell3|006E|'''[[n]]'''|149}}\n|{{chset-color-alpha}}|{{chset-cell3|006F|'''[[o]]'''|150}}\n|{{chset-color-alpha}}|{{chset-cell3|0070|'''[[p]]'''|151}}\n|{{chset-color-alpha}}|{{chset-cell3|0071|'''[[q]]'''|152}}\n|{{chset-color-alpha}}|{{chset-cell3|0072|'''[[r]]'''|153}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |154}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |155}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |156}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |157}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |158}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |159}}\n|-\n!{{chset-left|A}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |160}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |161}}\n|{{chset-color-alpha}}|{{chset-cell3|0073|'''[[s]]'''|162}}\n|{{chset-color-alpha}}|{{chset-cell3|0074|'''[[t]]'''|163}}\n|{{chset-color-alpha}}|{{chset-cell3|0075|'''[[u]]'''|164}}\n|{{chset-color-alpha}}|{{chset-cell3|0076|'''[[v]]'''|165}}\n|{{chset-color-alpha}}|{{chset-cell3|0077|'''[[w]]'''|166}}\n|{{chset-color-alpha}}|{{chset-cell3|0078|'''[[x]]'''|167}}\n|{{chset-color-alpha}}|{{chset-cell3|0079|'''[[y]]'''|168}}\n|{{chset-color-alpha}}|{{chset-cell3|007A|'''[[z]]'''|169}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |170}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |171}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |172}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |173}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |174}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |175}}\n|-\n!{{chset-left|B}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |176}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |177}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |178}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |179}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |180}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |181}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |182}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |183}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |184}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |185}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |186}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |187}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |188}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |189}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |190}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |191}}\n|-\n!{{chset-left|C}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |192}}\n|{{chset-color-alpha}}|{{chset-cell3|0041|'''[[A]]'''|193}}\n|{{chset-color-alpha}}|{{chset-cell3|0042|'''[[B]]'''|194}}\n|{{chset-color-alpha}}|{{chset-cell3|0043|'''[[C]]'''|195}}\n|{{chset-color-alpha}}|{{chset-cell3|0044|'''[[D]]'''|196}}\n|{{chset-color-alpha}}|{{chset-cell3|0045|'''[[E]]'''|197}}\n|{{chset-color-alpha}}|{{chset-cell3|0046|'''[[F]]'''|198}}\n|{{chset-color-alpha}}|{{chset-cell3|0047|'''[[G]]'''|199}}\n|{{chset-color-alpha}}|{{chset-cell3|0048|'''[[H]]'''|200}}\n|{{chset-color-alpha}}|{{chset-cell3|0049|'''[[I]]'''|201}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |202}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |203}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |204}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |205}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |206}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |207}}\n|-\n!{{chset-left|D}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |208}}\n|{{chset-color-alpha}}|{{chset-cell3|004A|'''[[J]]'''|209}}\n|{{chset-color-alpha}}|{{chset-cell3|004B|'''[[K]]'''|210}}\n|{{chset-color-alpha}}|{{chset-cell3|004C|'''[[L]]'''|211}}\n|{{chset-color-alpha}}|{{chset-cell3|004D|'''[[M]]'''|212}}\n|{{chset-color-alpha}}|{{chset-cell3|004E|'''[[N]]'''|213}}\n|{{chset-color-alpha}}|{{chset-cell3|004F|'''[[O]]'''|214}}\n|{{chset-color-alpha}}|{{chset-cell3|0050|'''[[P]]'''|215}}\n|{{chset-color-alpha}}|{{chset-cell3|0051|'''[[Q]]'''|216}}\n|{{chset-color-alpha}}|{{chset-cell3|0052|'''[[R]]'''|217}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |218}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |219}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |220}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |221}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |222}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |223}}\n|-\n!{{chset-left|E}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |224}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |225}}\n|{{chset-color-alpha}}|{{chset-cell3|0053|'''[[S]]'''|226}}\n|{{chset-color-alpha}}|{{chset-cell3|0054|'''[[T]]'''|227}}\n|{{chset-color-alpha}}|{{chset-cell3|0055|'''[[U]]'''|228}}\n|{{chset-color-alpha}}|{{chset-cell3|0056|'''[[V]]'''|229}}\n|{{chset-color-alpha}}|{{chset-cell3|0057|'''[[W]]'''|230}}\n|{{chset-color-alpha}}|{{chset-cell3|0058|'''[[X]]'''|231}}\n|{{chset-color-alpha}}|{{chset-cell3|0059|'''[[Y]]'''|232}}\n|{{chset-color-alpha}}|{{chset-cell3|005A|'''[[Z]]'''|233}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |234}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |235}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |236}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |237}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |238}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |239}}\n|-\n!{{chset-left|F}}\n|{{chset-color-digit}}|{{chset-cell3|0030|'''[[0 (number)|0]]'''|240}}\n|{{chset-color-digit}}|{{chset-cell3|0031|'''[[1 (number)|1]]'''|241}}\n|{{chset-color-digit}}|{{chset-cell3|0032|'''[[2 (number)|2]]'''|242}}\n|{{chset-color-digit}}|{{chset-cell3|0033|'''[[3 (number)|3]]'''|243}}\n|{{chset-color-digit}}|{{chset-cell3|0034|'''[[4 (number)|4]]'''|244}}\n|{{chset-color-digit}}|{{chset-cell3|0035|'''[[5 (number)|5]]'''|245}}\n|{{chset-color-digit}}|{{chset-cell3|0036|'''[[6 (number)|6]]'''|246}}\n|{{chset-color-digit}}|{{chset-cell3|0037|'''[[7 (number)|7]]'''|247}}\n|{{chset-color-digit}}|{{chset-cell3|0038|'''[[8 (number)|8]]'''|248}}\n|{{chset-color-digit}}|{{chset-cell3|0039|'''[[9 (number)|9]]'''|249}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |250}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |251}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |252}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |253}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |254}}\n|{{chset-color-undef}}|{{chset-ctrl3|    | |255}}\n{{chset-table-footer}}\n|}\n\n===Data stream===\nData sent to the 3270 consists of ''commands'' and ''orders''.  Commands instruct the 3270 control unit to perform some action on a specified device, such a read or write.  Orders are sent as part of the data stream to control the format of the device buffer.\n\nThe following description applies to the 3271, 3272, and 3275 control units.  Later models of 3270 have additional capabilities.\n\n===Commands===\n\n{| class=\"wikitable\"\n|-\n! Command !! hexadecimal<br>Code (local) !! Function<ref name=CompDesc />\n|-\n| Write || 01 || Writes data to the device\n|-\n| Erase/Write || 05 || Erases device buffer and writes data\n|-\n| Read Buffer || 02 || Reads entire device buffer, for example always 1920 bytes on a 3277-2\n|-\n| Read Modified || 06 || Reads only modified data from device\n|-\n| Copy || N/A || (Remote only) Copies data from one device buffer to another, for example from a display to a printer attached to the same control unit\n|-\n| Select || 0B || Transfers data from device to control unit\n|-\n| Erase All Unprotected || 0F || Erases all unprotected data and resets modified data tags\n|-\n| No Operation || 03 || May be used to retrieve pending status\n|-\n| Sense || 04 || Retrieves error information after unit check\n|-\n| For remote 3270s non-significant bits are set so that the command forms a valid EBCDIC (or ASCII) character.\n|}\n\n===Write Control Character===\nThe data sent by Write or Erase/Write consists of the command code itself followed by a ''Write Control Character'' (WCC) optionally followed by a buffer containing orders or data (or both).  The WCC controls the operation of the device.  Bits may start printer operation and specify a print format.  Other bit settings will sound the audible alarm if installed, unlock the keyboard to allow operator entry, or reset all the Modified Data Tags in the device buffer.\n\n===Orders===\nOrders consist of the order code byte followed by zero to three bytes of variable information.\n\n{| class=\"wikitable\"\n|+ Orderes for 3277<ref>\nLater models added \n*Start Field Extended (SFE)\n*Modify Field (MF)\n*Set Attribute (SA)\n*Graphic Escape (GE)\n</ref>\n|-\n! Order !! hexadecimal<br>Code (EBCDIC)<br>Byte 1 !! Byte 2 !! Byte 3 !! Byte 4 !! Description<ref name=CompDesc />\n|-\n| Start Field (SF) || 1D || Attribute character<br>(see [[#Attributes|Attributes]]) ||  ||  || Indicates the start of a field at the current buffer position and provides its attribute\n|-\n| Set Buffer Address (SBA) || 11 || Address byte 1 || Address byte 2 ||  || Specifies a buffer address to become the current buffer position<br>(see [[#Buffer_addressing|Buffer addressing]])\n|-\n| Insert Cursor (IC) || 13 ||  ||  ||  || Positions the cursor at the current buffer position\n|-\n| Program Tab (PT) || 05 ||  ||  || || Advances the current buffer address to the first position of the next unprotected field\n|-\n| Repeat to Address (RA) || 3C || Address byte 2 || Address byte 2 || Character to repeat || Stores the character in byte 4 in all buffer locations starting at the current buffer position up to but not including the specified address\n|-\n| Erase Unprotected to Address (EUA)|| 12 || Address byte 1 || Address byte 2 ||  || Fills all unprotected fields with nulls starting at the current buffer position up to but not including the specified address \n|}\n\n===Attributes===\nThe original 3277 and 3275 displays used an 8-bit field attribute byte of which five bits were used.<ref name=CompDesc />{{rp|p.18}}\n* Bits 0 and 1 are set so that the attribute will always be a valid EBCDIC (or ASCII) character.\n* Bit 2 was zero to indicate that the associated field is ''unprotected'' (operator could enter data) or one for ''protected''.\n* Bit 3 was zero to indicate that this field, if unprotected, could accept alphanumeric input. One indicates that only numeric input was accepted, and would automatically shift to numeric for some keyboards.\n* Bit 4 and 5 operate in tandem: \n** '00'B indicate that the field is displayed on the screen and is not ''selector-pen detectable''.\n** '01'B indicates that the field is displayable and selector-pen detectable.\n** '10'B indicates that the field is ''intensified'' (bright), displayable, and selector-pen detectable.\n** '11'B indicates that the field is non-display, non-printable, and not pen detectable. This last could be used in conjunction with the modified data tag to imbed static data on the screen that would be read each time data was read from the device.\n* Bit 7 is the \"Modified Data Tag\", where '0' indicates that the associated field has not been modified by the operator and '1' indicates that it has been modified. As noted above, this bit could be set programmatically to cause the field to be treated as modified.\n\nLater models included ''base colour'' support for four colours. \"In base color mode, the protection and intensity bits are used in combination to select among four colors: normally white, red, blue, and green; the protection bits retain their protection functions as well as determining color.\"<ref name=Attributes>{{cite web|last=IBM Corporation|title=3270 field attributes|url=http://publib.boulder.ibm.com/infocenter/cicsts/v3r1/index.jsp?topic=%2Fcom.ibm.cics.ts31.doc%2Fdfhp3%2Fdfhp3at.htm|accessdate=7 July 2012}}</ref> Still later models used ''extended attributes'' to add support for seven colours, blinking, reverse video, underscoring, field outlining, field validation, and programmed symbols.<ref name=Attributes /> In addition, later models added character attributes, which could establish, e.g., color for individual characters without starting a new field or taking up a screen position.\n\n===Buffer addressing===\n3270 displays and printers had a buffer containing one byte for every screen position.  For example, a 3277 model 2 featured a screen size of 24 rows of 80 columns for a buffer size of 1920 bytes.  Bytes were addressed from zero to the screen size minus one, in this example 1919.  \"There is a fixed relationship between each ... buffer storage location and its position on the display screen.\"<ref name=CompDesc />{{rp|p.13}}  Most orders started operation at the \"current\" buffer address, and executing an order or writing data would update this address.  The buffer address could be set directly using the ''Set Buffer Address (SBA)'' order, often followed by ''Start Field''.  For a device with a 1920 character display a twelve bit address was sufficient.  Later 3270s with larger screen sizes used fourteen or sixteen bits.\n\nAddresses were encoded in orders in two bytes.  For twelve bit addresses the high order two bits of each byte were normally set to form valid EBCDIC (or ASCII) characters.  For example, address 0 was coded as X'4040', or space-space, address 1919 was coded as X'5D7F', or '{{not a typo|)\"}}'.<ref name=CompDesc />{{rp|pp.75\u201390}}  Programmers hand coding panels usually kept the table of addresses from the 3270 Component Description or the 3270 Reference Card handy. For fourteen and sixteen bit address the address used contiguous bits in two bytes.\n\n===Example===\nThe following data stream writes an attribute in row 24, column 1, writes the (protected) characters '> ' in row 24, columns 2 and 3, and creates an unprotected field on row 24 from columns 5-79.  Because the buffer wraps around an attribute is placed on row 24, column 80 to terminate the input field.  This data stream would normally be written using an Erase/Write command which would set undefined positions on the screen to '00'x.  Values are given in hexadecimal.\n<pre>\n  Data              Description\n  D3                WCC [reset device + restore (unlock) keyboard + reset MDT]\n  11 5C F0          SBA Row 24 Column 1\n  1D F0             SF/Attribute\n                    [protected, alphanumeric, display normal intensity, not pen-detectable, MDT off]\n  6E 40             '> '\n  1D 40             SF/Attribute\n                    [unprotected, alphanumeric, display normal intensity, not pen-detectable, MDT off]\n                    SBA is not required here since this is being written at the current buffer position \n  13                IC - cursor displays at current position: Row 24, column 5\n  11 5D 7F          SBA Row 24 Column 80\n  1D F0             SF/Attribute\n                    [protected, alphanumeric, display normal intensity, not pen-detectable, MDT off]\n</pre>\n\n== See also ==\n\n*[[3270 emulator]]\n*[[List of IBM products]]\n*[[IBM 5250]] display terminal subsystem for IBM [[AS/400]]\n\n== Notes ==\n{{Reflist}}\n\n== References ==\n{{Refbegin}}\n*[http://www-03.ibm.com/ibm/history/exhibits/dpd50/dpd50_chronology4.html Partial IBM history]  noting the unveiling of the 3270 display system in 1971\n*[http://www.elink.ibmlink.ibm.com/publications/servlet/pbi.wss?CTY=US&FNC=SRX&PBL=GA23-0059-07 3270 Information Display System - 3270 Data Stream Programmer's Reference] from IBM\n*[http://www.cisco.com/univercd/cc/td/doc/cisintwk/dsgngde/tn3270/tndg_c1.htm Introduction to Telnet 3270] from Cisco\n*RFC 1041 - Telnet 3270 regime option\n*RFC 1576 - TN3270 Current Practices\n*RFC 2355 - TN3270 Enhancements\n{{Refend}}\n\n==External links==\n* [http://www.tommysprinkle.com/mvs/P3270/ 3270 Data Stream Programming]\n* [https://github.com/rbanffy/3270font rbanffy/3270font]: A TTF remake of the font from the 3270\n\n----\n{{FOLDOC}}\n{{Use dmy dates|date=September 2010}}\n\n{{DEFAULTSORT:Ibm 3270}}\n[[Category:IBM computer terminals|3270]]\n[[Category:IBM display devices|3270]]\n[[Category:Block-oriented terminal]]\n[[Category:Systems Network Architecture]]\n[[Category:Multimodal interaction]]\n[[Category:History of human\u2013computer interaction]]"}]}}}}